<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate morphine milligram equivalents (MME) with a data.frame or tibble — calculate_mme.data.frame • mmequiv</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate morphine milligram equivalents (MME) with a data.frame or tibble — calculate_mme.data.frame"><meta name="description" content="Calculates the single-day MME and total MME for each individual prescription
opioid medication submitted for calculation. Also calculates total MME,
total days of supply, and four distinct Total MME/Day calculations from
the NIH HEAL Online MME Calculator across all prescription medications
for two different medication groupings: 1) opioids without buprenorphine
and 2) opioids with buprenorphine."><meta property="og:description" content="Calculates the single-day MME and total MME for each individual prescription
opioid medication submitted for calculation. Also calculates total MME,
total days of supply, and four distinct Total MME/Day calculations from
the NIH HEAL Online MME Calculator across all prescription medications
for two different medication groupings: 1) opioids without buprenorphine
and 2) opioids with buprenorphine."><meta property="og:image" content="https://kennethataylor.github.io/mmequiv/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mmequiv</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mmequiv.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/KennethATaylor/mmequiv/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate morphine milligram equivalents (MME) with a <code>data.frame</code> or tibble</h1>
      <small class="dont-index">Source: <a href="https://github.com/KennethATaylor/mmequiv/blob/HEAD/R/calculate_mme.data.frame.R" class="external-link"><code>R/calculate_mme.data.frame.R</code></a></small>
      <div class="d-none name"><code>calculate_mme.data.frame.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates the single-day MME and total MME for each individual prescription
opioid medication submitted for calculation. Also calculates total MME,
total days of supply, and four distinct Total MME/Day calculations from
the NIH HEAL Online MME Calculator across all prescription medications
for two different medication groupings: 1) opioids without buprenorphine
and 2) opioids with buprenorphine.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu"><a href="calculate_mme.html">calculate_mme</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  id_col <span class="op">=</span> <span class="st">"patient_id"</span>,</span>
<span>  medication_col <span class="op">=</span> <span class="st">"medication_name"</span>,</span>
<span>  dose_col <span class="op">=</span> <span class="st">"dose"</span>,</span>
<span>  doses_per_day_col <span class="op">=</span> <span class="st">"doses_per_24_hours"</span>,</span>
<span>  days_col <span class="op">=</span> <span class="st">"days_of_medication"</span>,</span>
<span>  therapy_days_col <span class="op">=</span> <span class="st">"therapy_days"</span>,</span>
<span>  observation_days_col <span class="op">=</span> <span class="st">"observation_window_days"</span>,</span>
<span>  therapy_days_without_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  observation_days_without_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_api <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'tbl_df'</span></span>
<span><span class="fu"><a href="calculate_mme.html">calculate_mme</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  id_col <span class="op">=</span> <span class="st">"patient_id"</span>,</span>
<span>  medication_col <span class="op">=</span> <span class="st">"medication_name"</span>,</span>
<span>  dose_col <span class="op">=</span> <span class="st">"dose"</span>,</span>
<span>  doses_per_day_col <span class="op">=</span> <span class="st">"doses_per_24_hours"</span>,</span>
<span>  days_col <span class="op">=</span> <span class="st">"days_of_medication"</span>,</span>
<span>  therapy_days_col <span class="op">=</span> <span class="st">"therapy_days"</span>,</span>
<span>  observation_days_col <span class="op">=</span> <span class="st">"observation_window_days"</span>,</span>
<span>  therapy_days_without_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  observation_days_without_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_api <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>(<code>data.frame</code> or <code>tbl_df</code>)<br>
Object with input data - either a <code>data.frame</code> or tibble with data in
long format, with one row per medication per patient or participant
(<code>id_col</code>) and including all necessary data for MME calculations
(see <a href="opioid_trial.html">opioid_trial</a> data) and/or other function arguments</p></dd>


<dt id="arg-id-col">id_col<a class="anchor" aria-label="anchor" href="#arg-id-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing patient identifier; default is
<code>"patient_id"</code></p></dd>


<dt id="arg-medication-col">medication_col<a class="anchor" aria-label="anchor" href="#arg-medication-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing medication names; default is
<code>"medication_name"</code></p></dd>


<dt id="arg-dose-col">dose_col<a class="anchor" aria-label="anchor" href="#arg-dose-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing dose values; default is <code>"dose"</code></p></dd>


<dt id="arg-doses-per-day-col">doses_per_day_col<a class="anchor" aria-label="anchor" href="#arg-doses-per-day-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing doses per 24 hours; default is
<code>"doses_per_24_hours"</code></p></dd>


<dt id="arg-days-col">days_col<a class="anchor" aria-label="anchor" href="#arg-days-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing days of medication; default is
<code>"days_of_medication"</code></p></dd>


<dt id="arg-therapy-days-col">therapy_days_col<a class="anchor" aria-label="anchor" href="#arg-therapy-days-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing therapy days with buprenorphine (up to one
unique value per patient); default is <code>"therapy_days"</code></p></dd>


<dt id="arg-observation-days-col">observation_days_col<a class="anchor" aria-label="anchor" href="#arg-observation-days-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing observation window days with buprenorphine
(up to one unique value per patient); default is
<code>"observation_window_days"</code></p></dd>


<dt id="arg-therapy-days-without-col">therapy_days_without_col<a class="anchor" aria-label="anchor" href="#arg-therapy-days-without-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing therapy days without buprenorphine (up to
one unique value per patient). If <code>NULL</code> (default), uses the value from
<code>therapy_days_col</code>.</p></dd>


<dt id="arg-observation-days-without-col">observation_days_without_col<a class="anchor" aria-label="anchor" href="#arg-observation-days-without-col"></a></dt>
<dd><p>(<code>charcter</code>)<br>
Name of the column containing observation window days without
buprenorphine (up to one unique value per patient). If <code>NULL</code> (default),
uses the value from <code>observation_days_col</code>.</p></dd>


<dt id="arg-use-api">use_api<a class="anchor" aria-label="anchor" href="#arg-use-api"></a></dt>
<dd><p>(<code>logical</code>)<br>
Indicates whether to use the NIH HEAL Online MME Calculator API to
perform calculations or perform them locally instead. For
<code>calculate_mme.data.frame()</code> and <code>calculate_mme.tbl_df()</code>, the default is
<code>FALSE</code>, as the functions assume the user needs to perform the MME
calculations without being restricted by the API rate limit of 50
patient-level calculations per 15 minutes. This also allows the user to
perform the calculations without relying on internet access.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing three <code>data.frame</code> elements:</p><ul><li><p><code>medications</code>: The original data with added prescription-level MME columns</p></li>
<li><p><code>patient_summary_with_buprenorphine</code>: Patient-level MME summary including
buprenorphine</p></li>
<li><p><code>patient_summary_without_buprenorphine</code>: Patient-level MME summary
excluding buprenorphine</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function will provide the same results regardless of whether the user has
specified they want calculation done using the API (<code>use_api</code>). Specifying
<code>use_api == FALSE</code> helps overcome the online calculator API rate limit of 50
(patient-level) requests per 15  minutes. In addition to returning
user-specified arguments, <code><a href="calculate_mme.html">calculate_mme()</a></code> also returns several  other
variables mentioned in the <strong>Description</strong> section. Output variable
description details are below; see
<a href="https://www.doi.org/10.1097/j.pain.0000000000003529" class="external-link">Adams, <em>et al</em>. (2025)</a>
for a comprehensive overview.</p>
    </div>
    <div class="section level2">
    <h2 id="prescription-level">Prescription-Level<a class="anchor" aria-label="anchor" href="#prescription-level"></a></h2>
    <p><strong>Conversion Factor for &lt;<code>medication_name</code>&gt;</strong> (<code>factor</code>): the conversion
factor used for calculating total MME/day.</p>
<p><strong>MME for &lt;<code>medication_name</code>&gt;</strong> (<code>mme</code>): Morphine milligram equivalent
for the whole prescription specified in <code>medication_name</code>, calculated as
<code>(dose) * (doses_per_24_hours) * (factor) * (days_of_medication)</code>.</p>
<p><strong>24h MME for &lt;<code>medication_name</code>&gt;</strong> (<code>single_day_mme</code>): Morphine milligram
equivalent for the prescription specified in <code>medication_name</code> for a
single day, calculated as <code>(dose) * (doses_per_24_hours) * (factor)</code>.</p>
<p><strong>One day</strong>: Typically, the day with highest opioid exposure is entered, and
the sum of 24-hour MME across the drugs that apply to this day is
calculated. Highest MME in one day is definition 4.</p>
    </div>
    <div class="section level2">
    <h2 id="summary-level-">Summary-Level:<a class="anchor" aria-label="anchor" href="#summary-level-"></a></h2>
    <p><strong>On-therapy Days</strong> (<code>therapy_days</code>): The sum of prescription duration
(<code>days_of_medication</code>) for each medication, but <em>with each calendar day
counted only ONCE</em>. User-supplied; this is the denominator for MME/Day
definition 2.</p><ul><li><p>If there is only one prescription, or if there is no calendar overlap
(no days on which more than one prescription is active), this will be
the same as the total days supply.</p></li>
<li><p>If there are overlapping prescriptions, this is the number of unique
calendar days.</p></li>
</ul><p><strong>Total MME</strong> (<code>total_mme</code>): The MME for each medication, summed across all
prescriptions. This is the numerator for MME/Day definitions 1, 2, and 3.</p>
<p><strong>Total Days Supply</strong> (<code>total_days</code>): The sum of the entered prescription
duration (<code>days_of_medication</code>) for each of the <code>medications</code> (Med 1
duration + med 2 duration...). Automatically calculated. This is the
denominator for MME/Day definition 1.</p><div class="section">
<h3 id="mme-day">MME/Day<a class="anchor" aria-label="anchor" href="#mme-day"></a></h3>


<p>MME/Day is an aggregate measure, calculating the total MME divided by a
specified time window (a number of days). The MME/Day definitions specify
the number of days:</p>
<p><strong>MME/Day Definition 1 (<code>mme1</code>): Total Days Supply</strong></p>
<p>MME Definition 1 = Total MME / Total Days Supply time window (sum of entered
prescription durations).</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">mme1</span> <span class="op">=</span> <span class="va">total_mme</span> <span class="op">/</span> <span class="va">total_days</span></span></code></pre><p></p></div><ul><li><p>Note that the same calendar day may contribute multiple times, if
overlapping prescriptions.</p></li>
<li><p>Reason to select this definition: This is the least complicated
calculation; appears best suited when immediate-release opioids are
prescribed for short discrete times.</p></li>
<li><p>Identified challenge with this definition: It consistently underestimated
MME per day when overlapping prescriptions were present or when
immediate-release and extended release opioids were prescribed
concurrently.</p></li>
</ul><p><strong>MME/Day Definition 2 (<code>mme2</code>): On-therapy Days</strong></p>
<p>MME Definition 2 = Total MME / On-therapy Days time window (sum of entered
prescription durations except each calendar day is counted only ONCE).</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">mme2</span> <span class="op">=</span> <span class="va">total_mme</span> <span class="op">/</span> <span class="va">therapy_days</span></span></code></pre><p></p></div><ul><li><p>Note - On-therapy Days unique calendar days.</p></li>
<li><p>Reason to select this definition: Provides a smoothed measure useful in
studies of dose-dependent adverse effects, including opioid-induced
constipation or overdose in patients with opioid tolerance or who have
been stable on opioids.</p></li>
<li><p>Identified challenge with this definition: The metric is time-varying and
affords the greatest flexibility to define medication gap periods and
leftover/unused medications to improve pharmacoepidemiologic studies.</p></li>
</ul><p><strong>MME/Day Definition 3 (<code>mme3</code>): Fixed Observation Window</strong></p>
<p>Uses the Total MME study-specified fixed observation window. MME Definition
3 = Total MME / Number of days in observation window:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">mme3</span> <span class="op">=</span> <span class="va">total_mme</span> <span class="op">/</span> <span class="va">observation_window_days</span></span></code></pre><p></p></div><ul><li><p>If this definition is selected, it is important to report on the duration
of the fixed window.</p></li>
<li><p>Reason to select this definition: Most suitable for studies with a known
or suspected duration of risk during which adverse events are expected
to occur, such as incidence of opioid use disorder. This definition may
be useful when prescriptions are filled at irregular time intervals on a
as needed basis (<em>pro re nata</em>, PRN).</p></li>
<li><p>Identified challenge with this definition: The definition consistently had
the lowest milligrams per day for immediate-release opioids. It is the
most robust to misspecification, amenable to transformations, and has
the least noise when constructing continuous functions. However, since
it assumes uniform exposure/risk within a window, there is less scope
for time-varying adjustment.</p></li>
<li><p>This is the definition recommended by the Department of Health and Human
Services Office of the Inspector General.</p></li>
</ul><p><strong>MME/Day Definition 4 (<code>mme4</code>): Maximum Daily Dose</strong></p>
<p>Uses the sum of 24-hour MME for the day with highest opioid exposure.</p>
<p>MME Definition 4 = Drug 1 (dose (mg) x # of doses per day) x conversion
factor + Drug 2 (dose (mg) x # of doses per day) x conversion factor + ...</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">mme4</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">dose</span> <span class="op">*</span> <span class="va">doses_per_24_hours</span> <span class="op">*</span> <span class="va">factor</span><span class="op">)</span></span></code></pre><p></p></div><ul><li><p>Report the highest single-day exposure.</p></li>
<li><p>Reason to select this definition: A toxicological perspective may be
appropriate for patients with no opioid tolerance and in the presence
of comorbidities for respiratory depression. It appears to be best
suited for immediate dose-dependent toxic effects, such as respiratory
depression.</p></li>
<li><p>Identified challenged with this definition: This definition may have
limited use if it includes opioids where fatal toxicity does not involve
respiratory depression (e.g., tramadol) or have atypical <em>mu</em>-opioid
receptor agonism (e.g., tapentadol, buprenorphine).</p></li>
<li><p>The definition assumes uniform risk of adverse outcomes regardless of time
on-therapy. More so than the others, this definition is prone to
influence from early refills, unused medication, and how the 90 MME
threshold is operationalized.</p></li>
<li><p>This definition underlies the algorithm embedded in the CDC Opioid
Guideline mobile app. There may be difficulty reconciling findings with
studies using the other definitions because it returns a MME per day
that is significantly higher.</p></li>
<li><p>This calculator sums the 24-hour MME for every prescription, without
considering calendar dates.</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="calculate_mme.list.html">calculate_mme.list()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘dplyr’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from ‘package:stats’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     filter, lag</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from ‘package:base’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     intersect, setdiff, setequal, union</span>
<span class="r-in"><span><span class="co"># Calculate MME using long-format data</span></span></span>
<span class="r-in"><span><span class="co"># Subset of opioid_trial data used for speedier example</span></span></span>
<span class="r-in"><span><span class="va">mme</span> <span class="op">&lt;-</span> <span class="fu"><a href="calculate_mme.html">calculate_mme</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">opioid_trial</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">patient_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"P%03d"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  therapy_days_without_col <span class="op">=</span> <span class="st">"therapy_days_without"</span>,</span></span>
<span class="r-in"><span>  observation_days_without_col <span class="op">=</span> <span class="st">"observation_window_days_without"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mme</span><span class="op">$</span><span class="va">medications</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   patient_id medication_name          dose doses_per_24_hours days_of_medication</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> P001       Fentanyl patch (mcg/hr)  12.5                  1                  7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> P001       tramadol (mg) LA        125                    1                 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> P002       Hydrocodone (mg)         10                    3                 14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> P002       tramadol (mg)            60                    3                 14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> P003       Meperidine HCL (mg)      50                    4                  7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> P003       tramadol (mg)            90                    3                  7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 7 more variables: therapy_days &lt;dbl&gt;, observation_window_days &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   therapy_days_without &lt;dbl&gt;, observation_window_days_without &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   factor &lt;dbl&gt;, mme &lt;dbl&gt;, single_day_mme &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mme</span><span class="op">$</span><span class="va">patient_summary_with_buprenorphine</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   patient_id therapy_days observation_window_days total_mme total_days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       P001            7                      30    960.00         37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       P002           14                      30    924.00         28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       P003            7                      30   2228.00         31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       P004            7                      30    210.00          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       P005            7                      30     47.25          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       P006            7                      30   3395.25         31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        mme1     mme2      mme3   mme4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  25.94595 137.1429  32.00000  55.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  33.00000  66.0000  30.80000  66.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  71.87097 318.2857  74.26667 204.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  30.00000  30.0000   7.00000  30.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   6.75000   6.7500   1.57500   6.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 109.52419 485.0357 113.17500 393.75</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mme</span><span class="op">$</span><span class="va">patient_summary_without_buprenorphine</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   patient_id therapy_days observation_window_days total_mme total_days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       P001            7                      30    960.00         37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       P002           14                      30    924.00         28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       P003            7                      30   2228.00         31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       P004            7                      30    210.00          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       P005            7                      30     47.25          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       P006            7                      30   3395.25         31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        mme1     mme2      mme3   mme4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  25.94595 137.1429  32.00000  55.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  33.00000  66.0000  30.80000  66.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  71.87097 318.2857  74.26667 204.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  30.00000  30.0000   7.00000  30.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   6.75000   6.7500   1.57500   6.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 109.52419 485.0357 113.17500 393.75</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Cleanup</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">mme</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kenneth A. Taylor.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

